.\" Automatically generated by Pod::Man 2.25 (Pod::Simple 3.16)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.ie \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.el \{\
.    de IX
..
.\}
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "OPENSSL-FIPSINSTALL 1"
.TH OPENSSL-FIPSINSTALL 1 "2020-03-02" "3.0.0-dev" "OpenSSL"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
openssl\-fipsinstall \- perform FIPS configuration installation
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBopenssl fipsinstall\fR
[\fB\-help\fR]
[\fB\-in\fR \fIconfigfilename\fR]
[\fB\-out\fR \fIconfigfilename\fR]
[\fB\-module\fR \fImodulefilename\fR]
[\fB\-provider_name\fR \fIprovidername\fR]
[\fB\-section_name\fR \fIsectionname\fR]
[\fB\-verify\fR]
[\fB\-mac_name\fR \fImacname\fR]
[\fB\-macopt\fR \fInm\fR:\fIv\fR]
[\fB\-noout\fR]
[\fB\-corrupt_desc\fR \fIselftest_description\fR]
[\fB\-corrupt_type\fR \fIselftest_type\fR]
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
This command is used to generate a \s-1FIPS\s0 module configuration file.
The generated configuration file consists of:
.IP "\- A mac of the \s-1FIPS\s0 module file." 4
.IX Item "- A mac of the FIPS module file."
.PD 0
.IP "\- A status indicator that indicates if the known answer Self Tests (\s-1KAT\s0's) have successfully run." 4
.IX Item "- A status indicator that indicates if the known answer Self Tests (KAT's) have successfully run."
.PD
.PP
This configuration file can be used each time a \s-1FIPS\s0 module is loaded
in order to pass data to the \s-1FIPS\s0 modules self tests. The \s-1FIPS\s0 module always
verifies the modules \s-1MAC\s0, but only needs to run the \s-1KATS\s0 once during install.
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fB\-help\fR" 4
.IX Item "-help"
Print a usage message.
.IP "\fB\-module\fR \fIfilename\fR" 4
.IX Item "-module filename"
Filename of a fips module to perform an integrity check on.
.IP "\fB\-out\fR \fIconfigfilename\fR" 4
.IX Item "-out configfilename"
Filename to output the configuration data to, or standard output by default.
.IP "\fB\-in\fR \fIconfigfilename\fR" 4
.IX Item "-in configfilename"
Input filename to load configuration data from. Used with the '\-verify' option.
Standard input is used if the filename is '\-'.
.IP "\fB\-verify\fR" 4
.IX Item "-verify"
Verify that the input configuration file contains the correct information
.IP "\fB\-provider_name\fR \fIprovidername\fR" 4
.IX Item "-provider_name providername"
Name of the provider inside the configuration file.
.IP "\fB\-section_name\fR \fIsectionname\fR" 4
.IX Item "-section_name sectionname"
Name of the section inside the configuration file.
.IP "\fB\-mac_name\fR \fIname\fR" 4
.IX Item "-mac_name name"
Specifies the name of a supported \s-1MAC\s0 algorithm which will be used.
To see the list of supported \s-1MAC\s0's use the command
\&\f(CW\*(C`openssl list \-mac\-algorithms\*(C'\fR.  The default is \fB\s-1HMAC\s0\fR.
.IP "\fB\-macopt\fR \fInm\fR:\fIv\fR" 4
.IX Item "-macopt nm:v"
Passes options to the \s-1MAC\s0 algorithm.
A comprehensive list of controls can be found in the \s-1EVP_MAC\s0 implementation
documentation.
Common control strings used for fipsinstall are:
.RS 4
.IP "\fBkey\fR:\fIstring\fR" 4
.IX Item "key:string"
Specifies the \s-1MAC\s0 key as an alphanumeric string (use if the key contains
printable characters only).
The string length must conform to any restrictions of the \s-1MAC\s0 algorithm.
A key must be specified for every \s-1MAC\s0 algorithm.
.IP "\fBhexkey\fR:\fIstring\fR" 4
.IX Item "hexkey:string"
Specifies the \s-1MAC\s0 key in hexadecimal form (two hex digits per byte).
The key length must conform to any restrictions of the \s-1MAC\s0 algorithm.
A key must be specified for every \s-1MAC\s0 algorithm.
.IP "\fBdigest\fR:\fIstring\fR" 4
.IX Item "digest:string"
Used by \s-1HMAC\s0 as an alphanumeric string (use if the key contains printable
characters only).
The string length must conform to any restrictions of the \s-1MAC\s0 algorithm.
To see the list of supported digests, use the command
\&\f(CW\*(C`openssl list \-digest\-commands\*(C'\fR.
.RE
.RS 4
.RE
.IP "\fB\-noout\fR" 4
.IX Item "-noout"
Disable logging of the self tests.
.IP "\fB\-corrupt_desc\fR \fIselftest_description\fR" 4
.IX Item "-corrupt_desc selftest_description"
.PD 0
.IP "\fB\-corrupt_type\fR \fIselftest_type\fR" 4
.IX Item "-corrupt_type selftest_type"
.PD
The corrupt options can be used to test failure of one or more self test(s) by
name.
Either option or both may be used to select the self test(s) to corrupt.
Refer to the entries for \*(L"st-desc\*(R" and \*(L"st-type\*(R" in \s-1\fIOSSL_PROVIDER\-FIPS\s0\fR\|(7) for
values that can be used.
.SH "EXAMPLES"
.IX Header "EXAMPLES"
Calculate the mac of a \s-1FIPS\s0 module \fIfips.so\fR and run a \s-1FIPS\s0 self test
for the module, and save the \fIfips.conf\fR configuration file:
.PP
.Vb 3
\& openssl fipsinstall \-module ./fips.so \-out fips.conf \-provider_name fips \e
\&         \-section_name fipsinstall \-mac_name HMAC \-macopt digest:SHA256 \e
\&         \-macopt hexkey:000102030405060708090A0B0C0D0E0F10111213
.Ve
.PP
Verify that the configuration file \fIfips.conf\fR contains the correct info:
.PP
.Vb 3
\& openssl fipsinstall \-module ./fips.so \-in fips.conf  \-provider_name fips \e
\&          \-section_name fips_install \-mac_name HMAC \-macopt digest:SHA256 \e
\&          \-macopt hexkey:000102030405060708090A0B0C0D0E0F10111213 \-verify
.Ve
.PP
Corrupt any self tests which have the description '\s-1SHA1\s0':
.PP
.Vb 4
\& openssl fipsinstall \-module ./fips.so \-out fips.conf \-provider_name fips \e
\&         \-section_name fipsinstall \-mac_name HMAC \-macopt digest:SHA256 \e
\&         \-macopt hexkey:000102030405060708090A0B0C0D0E0F10111213 \e
\&         \-corrupt_desc\*(Aq, \*(AqSHA1\*(Aq
.Ve
.SH "NOTES"
.IX Header "NOTES"
The \s-1MAC\s0 mechanisms that are available will depend on the options
used when building OpenSSL.
The command \f(CW\*(C`openssl list \-mac\-algorithms\*(C'\fR command can be used to list them.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIfips_config\fR\|(5),
\&\s-1\fIOSSL_PROVIDER\-FIPS\s0\fR\|(7),
\&\s-1\fIEVP_MAC\s0\fR\|(3)
.SH "COPYRIGHT"
.IX Header "COPYRIGHT"
Copyright 2019 The OpenSSL Project Authors. All Rights Reserved.
.PP
Licensed under the OpenSSL license (the \*(L"License\*(R").  You may not use
this file except in compliance with the License.  You can obtain a copy
in the file \s-1LICENSE\s0 in the source distribution or at
<https://www.openssl.org/source/license.html>.
